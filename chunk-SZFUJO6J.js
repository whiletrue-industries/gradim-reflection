import{Ba as _,Da as b,Ea as w,J as a,P as c,Ta as x,Ua as C,X as i,Xa as v,aa as p,ca as d,da as h,ia as u,pa as m,qa as g,xa as o,ya as f,za as s}from"./chunk-MEFDK25W.js";var U=["https://gradim-wall.netlify.app/FB_P_ITA_200021_5770_013","https://gradim-wall.netlify.app/FB_P_FRA_88009_0072_018","https://gradim-wall.netlify.app/FB_P_IND_84010_016_809","https://gradim-wall.netlify.app/FB_P_USA_82002_0211_036","https://gradim-wall.netlify.app/FB_P_SUN_89009_1275_031"];function l(){let n=Math.floor(Math.random()*U.length);return U[n]}function y(n,t){if(n&1&&s(0,"iframe",1),n&2){let e=w();_("src",e.safeContextUrl(),d)}}var P=class n{sanitizer=a(v);platformId=a(p);currentUrl=i("");safeContextUrl=i(null);constructor(){let t=this.getInitialWallUrl();this.currentUrl.set(t),this.safeContextUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(t))}shareToCanvas(){console.log("[UrlWrapper] shareToCanvas clicked");let t=this.currentUrl();if(!t){console.warn("[UrlWrapper] No URL to share");return}let r=`${this.getBasePath()}sample-reflect/?shareUrl=${encodeURIComponent(t)}`;console.log("[UrlWrapper] Navigating to canvas with shareUrl:",r),window.location.href=r}getBasePath(){let t=window.location.pathname,e=t.lastIndexOf("/")+1;return t.substring(0,e)}getInitialWallUrl(){if(!C(this.platformId))return l();try{let e=new URLSearchParams(window.location.search).get("wallUrl");if(e)return e}catch{}return l()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-url-wrapper"]],decls:6,vars:1,consts:[[1,"url-wrapper-container"],["title","Context View","allow","publickey-credentials-create *; publickey-credentials-get *","sandbox","allow-scripts allow-same-origin allow-forms allow-popups allow-downloads",1,"wrapped-iframe",3,"src"],[1,"share-button-container"],["type","button","title","Share to canvas",1,"share-button",3,"click","touchstart"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"]],template:function(e,r){e&1&&(o(0,"div",0),m(1,y,1,1,"iframe",1),o(2,"div",2)(3,"button",3),b("click",function(){return r.shareToCanvas()})("touchstart",function(){return r.shareToCanvas()}),c(),o(4,"svg",4),s(5,"path",5),f()()()()),e&2&&(h(),g(r.safeContextUrl()?1:-1))},dependencies:[x],styles:[".url-wrapper-container[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;overflow:hidden;background:#000}.wrapped-iframe[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border:none;display:block;z-index:1}.share-button-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:200;pointer-events:auto;display:flex;gap:8px;align-items:center}.button-group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.share-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;padding:0;background-color:#141414f2;color:#e6e6e6;border:1px solid rgba(255,255,255,.1);border-radius:8px;cursor:pointer;box-shadow:0 2px 12px #00000080;transition:all .2s ease;touch-action:manipulation;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.share-button[_ngcontent-%COMP%]:hover{background-color:#1e1e1efa;border-color:#fff3;transform:translateY(-2px);box-shadow:0 4px 16px #0009}.share-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #0006}.share-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.share-button.close[_ngcontent-%COMP%]{background-color:#1e1e1ef2}.share-button.saved[_ngcontent-%COMP%]{background-color:#287850e6;border-color:#64c8964d}.share-button.saved[_ngcontent-%COMP%]:hover{background-color:#328c64fa;border-color:#96ffc866}.canvas-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;z-index:10;background:#0000000d;overflow:hidden}.canvas-overlay.slide-in-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideFromLeft .36s ease-in-out}.canvas-overlay.slide-out-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideToLeft .36s ease-in-out}.canvas-iframe[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border:none;display:block;box-shadow:0 0 30px #0000004d}@keyframes _ngcontent-%COMP%_slideFromLeft{0%{clip-path:inset(0 100% 0 0)}to{clip-path:inset(0 0 0 0)}}@keyframes _ngcontent-%COMP%_slideToLeft{0%{clip-path:inset(0 0 0 0)}to{clip-path:inset(0 100% 0 0)}}"],changeDetection:0})};export{P as UrlWrapper};
